import{_ as u,o as l,c,a as i,g as r,e as n}from"./lodash.5e8f7418.js";const b={name:"libraryWishlistSwitcher",props:["aboveSearch"],created:function(){},methods:{isActive:function(e){const t=this.$route.query.subPageSource||this.$store.state.sticky.subPageSource;if(e==="wishlist"&&t==="wishlist")return!0;if(e==="library"&&(t==="library"||t==="books"))return!0},switcher:function(e){this.$updateQueries({sort:null,sortDir:null,filterExtras:null,subPageSource:e}),this.$store.commit("stickyProp",{key:"subPageSource",value:e})}}};function h(e,t,a,y,g,s){return e.$route.meta.subPage&&!e.$route.meta.gallery&&(e.$store.state.library.books||e.$store.state.library.extras.pages.books)&&(e.$store.state.library.wishlist||e.$store.state.library.extras.pages.wishlist)?(l(),c("div",{key:0,id:"library-wishlist-switcher",class:r({"above-search":a.aboveSearch})},[i("button",{onClick:t[0]||(t[0]=o=>s.switcher("library")),class:r({active:s.isActive("library")})}," Library ",2),i("button",{onClick:t[1]||(t[1]=o=>s.switcher("wishlist")),class:r({active:s.isActive("wishlist")})}," Wishlist ",2)],2)):n("",!0)}var m=u(b,[["render",h],["__scopeId","data-v-e89976c4"]]),k={data:function(){return{subPageSource:{collection:null,name:null,wishlist:!1,library:!1,books:!1}}},methods:{findSubPageSource:function(){const e=this.$route.query.subPageSource||this.$store.state.sticky.subPageSource;this.$store.commit("prop",{key:"sticky.subPageSource",value:e});const t=e==="library"?"books":null;return{collection:this.$store.state.library[t||e],name:e,wishlist:e==="wishlist",library:e==="library"||e==="books",books:e==="library"||e==="books"}}},watch:{"$route.query.subPageSource":function(e){const t=_.get(this.$route,"meta",{});!t.gallery&&t.subPage&&(this.listReady=!1,this.subPageSource=this.findSubPageSource(),this.$nextTick(function(){this.makeCollection()}))}},beforeCreate:function(){this.$store.commit("prop",{key:"pageCollection",value:[]}),this.$store.commit("prop",{key:"mutatingCollection",value:[]})},created:function(){const e=_.get(this.$route,"meta",{});e.subPage&&(this.subPageSource=this.findSubPageSource()),!e.gallery&&e.subPage&&this.makeCollection()}};export{m as _,k as f};
